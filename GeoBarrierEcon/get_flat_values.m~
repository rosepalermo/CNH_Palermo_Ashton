function varargout = get_flat_values(ind, varargin)
    if nargin == 0
        n = 0;
        return;
    end
    
	sz = zeros(1,nargin-1);
    for i=1:nargin-1
		sz(i) = length(varargin{i});
    end
    
    sub = cell(1,nargin-1);
    varargout
    [sub{1:nargin-1}] = ind2sub(sz,ind);
    for i=1:nargin-1
        varargout{i} = varargin{i}(sub{i});
    end
end